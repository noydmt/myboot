<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style>
h1{ font-size: 18pt; }
body{ font-size:13pt; }
postedResult{border:1px black solid; margin: 30px; padding:20px;}
</style>
</head>
<body>
	<h1>hello sample page</h1>
	<pre th:text="${data}"></pre>
	<form method="post" action="/" th:object="${formModel}">
		<table>
			<tr><td>名前</td><td><input type="text" name="name" th:value="${name}"></td></tr>
			<tr><td>年齢</td><td><input type="text" name="age" th:value="${age}"></td></tr>
			<tr><td>メール</td><td><input type="text" name="mail" th:value="${mail}"></td></tr>
			<tr><td>メモ</td><td><textarea name="memo" th:text="${memo}" cols="20" rows="5"></textarea></td></tr>
			<tr><td></td><td><input type="submit" value="submit"></td></tr>
		</table>
	</form>
	<table>
		<tr><td>ID</td><td>名前</td><td>年齢</td><td>メモ</td><td></td><td></td></tr>
		<tr th:each="obj : ${datalist}">
			<form method="post" id="deleteForm" th:action="@{/delete/{id}(id=${obj.id})}">
				<td th:text="${obj.id}" id="id"></td>
				<td th:text="${obj.name}" id="name"></td>
				<td th:text="${obj.age}" id="age"></td>
				<td th:text="${obj.memo}" id="memo"></td>
				<td id="editBtn"><a th:href="@{/{id}(id=${obj.id})}">edit</a></td>
				<td><Button id="deleteBtn">delete</Button></td>
			</form>
		</tr>
	</table>
	<script th:inline="javascript">
		/*<![CDATA[*/
			var message = [[${msg}]];
			if(message != null) alert(message);

			var deleteForm = document.getElementById('deleteForm');
			var deleteBtn = document.getElementById('deleteBtn');
			deleteBtn.addEventListener('click', function(){
				var ret = confirm("削除します。よろしいですか？");
				if(ret) {
					deleteForm.submit();
				}
			}, false)
		/*]]>*/
	</script>
</body>
</html>